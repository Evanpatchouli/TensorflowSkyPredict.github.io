{"version":3,"sources":["webpack:///./src/views/demo3.vue","webpack:///./src/views/demo3.vue?8361","webpack:///./src/views/demo3.vue?ddd5"],"names":["class","id","_createElementVNode","_createElementBlock","_hoisted_1","_ctx","_hoisted_2","_createVNode","_component_el_button","onClick","_component_el_input","type","size","number","placeholder","_component_el_dialog","width","showClose","lazy","_hoisted_3","close-on-click-modal","_hoisted_4","model","data","label","x","y","tfvis","scatterplot","name","values","filter","p","modelTmp","tf","add","dense","units","inputShape","activation","compile","loss","logLoss","optimizer","adam","title","visible","visible2","numx","numy","result","methods","this","inputs","map","labels","fit","batchSize","epochs","callbacks","fitCallbacks","predict","pred","dataSync","close","__exports__","render"],"mappings":"8PACOA,MAAM,Q,GAEJA,MAAM,Y,GAmBJC,GAAG,U,QASRC,gCAAmB,WAAd,YAAQ,I,4LA9BjBC,gCAgCM,MAhCNC,EAgCM,CA/BJF,gCAAoB,uCAAbG,SAAK,GACZH,gCAiBM,MAjBNI,EAiBM,CAhBJC,yBAAwCC,GAA5BC,QAAOJ,SAAK,C,6BAAE,IAAE,8BAAF,Q,oBAC1BE,yBAMWG,GALTC,KAAK,SACLC,KAAK,I,WACWP,O,qCAAAA,OAAI,G,eAApB,CAAAQ,WACAC,YAAY,U,uBAGdP,yBAMWG,GALTC,KAAK,SACLC,KAAK,I,WACWP,O,qCAAAA,OAAI,G,eAApB,CAAAQ,WACAC,YAAY,U,uBAGdP,yBAA4CC,GAAhCC,QAAK,eAAEJ,c,8BAAW,IAAE,8BAAF,Q,QAEhCE,yBAGYQ,GAHAC,MAAO,IAAMC,WAAW,E,WAAqBZ,U,qCAAAA,UAAO,G,eAArB,CAAAa,U,8BACzC,IAAwC,CAAxChB,gCAAwC,MAAxCiB,EAAiB,QAAK,6BAAGd,UAAM,GAC/BE,yBAAmEC,GAAxDG,KAAK,UAAWF,QAAOJ,QAAOJ,GAAG,U,8BAAS,IAAE,8BAAF,Q,6CAEvDM,yBAOYQ,GANTC,MAAO,IACPC,WAAW,E,WACEZ,W,qCAAAA,WAAQ,G,eAAtB,CAAAa,SACCE,wBAAsB,G,8BAEvB,IAAmB,CAAnBC,I,qDAQN,IAAIC,EACJ,MAAMC,EAAO,CACT,CAAEC,MAAO,EAAGC,EAAG,EAAGC,EAAG,GACrB,CAAEF,MAAO,EAAGC,EAAG,EAAGC,EAAG,GACrB,CAAEF,MAAO,EAAGC,EAAG,EAAGC,EAAG,GACrB,CAAEF,MAAO,EAAGC,EAAG,EAAGC,EAAG,GACrB,CAAEF,MAAO,EAAGC,GAAI,EAAGC,EAAG,GACtB,CAAEF,OAAQ,EAAGC,EAAG,IAAKC,GAAI,IAE7BC,YAAaC,YACT,CAAEC,KAAM,YACR,CACIC,OAAQ,CACJP,EAAKQ,OAAQC,GAAkB,IAAZA,EAAER,OACrBD,EAAKQ,OAAQC,GAAkB,IAAZA,EAAER,UAIjC,MAAMS,EAAWC,SACjBD,EAASE,IACLD,OAAUE,MAAM,CACZC,MAAO,EACPC,WAAY,CAAC,GACbC,WAAY,aAGpBN,EAASO,QAAQ,CACbC,KAAMP,OAAUQ,QAChBC,UAAWT,OAASU,KAAK,MAEd,OACXrB,OACI,MAAO,CACHsB,MAAO,OACPC,SAAS,EACTC,UAAU,EACVC,KAAM,EACNC,KAAM,EACNC,OAAQ,IAMhBC,QAAS,CACL,cACIC,KAAKL,UAAW,EAEhB,MAAMM,EAASnB,OAAUX,EAAK+B,IAAKtB,GAAM,CAACA,EAAEP,EAAGO,EAAEN,KAC3C6B,EAASrB,OAAUX,EAAK+B,IAAKtB,GAAMA,EAAER,cACrCS,EAASuB,IAAIH,EAAQE,EAAQ,CAC/BE,UAAW,GACXC,OAAQ,GACRC,UAAWhC,UAAWiC,aAAa,CAAE/B,KAAM,QAAU,CAAC,WAE1DuB,KAAKL,UAAW,EAChBzB,EAAQW,GAGZ4B,UAEIT,KAAKN,SAAU,EACf,IAAIgB,EAAOxC,EAAMuC,QAAQ3B,OAAU,CAAC,CAAa,EAAZkB,KAAKJ,KAAsB,EAAZI,KAAKH,SAAac,WAAW,GACjFX,KAAKF,OAASY,GAGlBE,QACIZ,KAAKN,SAAU,K,iCCnG3B,MAAMmB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/chunk-494482e6.7b867c45.js","sourcesContent":["<template>\n  <div class=\"main\">\n    <h2>{{ title }}</h2>\n    <div class=\"trainBox\">\n      <el-button @click=\"train\">训练</el-button>\n      <el-input\n        type=\"number\"\n        size=\"5\"\n        v-model.number=\"numx\"\n        placeholder=\"请输入坐标X\"\n      >\n      </el-input>\n      <el-input\n        type=\"number\"\n        size=\"5\"\n        v-model.number=\"numy\"\n        placeholder=\"请输入坐标y\"\n      >\n      </el-input>\n      <el-button @click=\"predict()\">预测</el-button>\n    </div>\n    <el-dialog :width=\"400\" :showClose=\"false\" v-model.lazy=\"visible\">\n      <div id=\"result\">预测结果：{{ result }}</div>\n      <el-button type=\"primary\" @click=\"close\" id=\"elbtn1\">确认</el-button>\n    </el-dialog>\n    <el-dialog\n      :width=\"400\"\n      :showClose=\"false\"\n      v-model.lazy=\"visible2\"\n      :close-on-click-modal=\"false\"\n    >\n      <div>正在训练中请稍后</div>\n    </el-dialog>\n  </div>\n</template>\n<script lang=\"js\">\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as tfvis from \"@tensorflow/tfjs-vis\";\n\nlet model;\nconst data = [\n    { label: 1, x: 1, y: 0 },\n    { label: 1, x: 2, y: 0 },\n    { label: 1, x: 3, y: 1 },\n    { label: 1, x: 0, y: 2 },\n    { label: 0, x: -1, y: 0 },\n    { label: -1, x: 100, y: -1 },\n];\ntfvis.render.scatterplot(\n    { name: \"逻辑回归训练数据\" },\n    {\n        values: [\n            data.filter((p) => p.label === 1),\n            data.filter((p) => p.label === 0),\n        ],\n    }\n);\nconst modelTmp = tf.sequential();\nmodelTmp.add(\n    tf.layers.dense({\n        units: 1,\n        inputShape: [2],\n        activation: \"sigmoid\",\n    })\n);\nmodelTmp.compile({\n    loss: tf.losses.logLoss,\n    optimizer: tf.train.adam(0.1),\n});\nexport default {\n    data() {\n        return {\n            title: \"逻辑回归\",\n            visible: false,\n            visible2: false,\n            numx: 0,\n            numy: 0,\n            result: 0\n        }\n    },\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    methods: {\n        async train() {\n            this.visible2 = true;\n            //   alert(\"visible: \" + this.visible);\n            const inputs = tf.tensor(data.map((p) => [p.x, p.y]));\n            const labels = tf.tensor(data.map((p) => p.label));\n            await modelTmp.fit(inputs, labels, {\n                batchSize: 40,\n                epochs: 20,\n                callbacks: tfvis.show.fitCallbacks({ name: \"训练效果\" }, [\"loss\"]),\n            });\n            this.visible2 = false\n            model = modelTmp;\n        },\n\n        predict() {\n            //   alert(\"visible: \" + this.visible);\n            this.visible = true\n            let pred = model.predict(tf.tensor([[this.numx * 1, this.numy * 1]])).dataSync()[0];\n            this.result = pred;\n        },\n\n        close() {\n            this.visible = false;\n        }\n    },\n}\n</script>\n<style lang=\"scss\" scoped>\n#result {\n  margin-top: -30px;\n}\n#elbtn1 {\n  margin-top: 15px;\n}\n.trainBox > * {\n  display: inline;\n}\n.main {\n  padding: 20px;\n  padding-bottom: 40px;\n}\n.css-1x8bgru:hover {\n  cursor: pointer;\n}\n.css-omocl {\n  display: none;\n}\n</style>\n","import { render } from \"./demo3.vue?vue&type=template&id=d966ecca&scoped=true\"\nimport script from \"./demo3.vue?vue&type=script&lang=js\"\nexport * from \"./demo3.vue?vue&type=script&lang=js\"\n\nimport \"./demo3.vue?vue&type=style&index=0&id=d966ecca&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Workstation\\\\JsML\\\\jsml1\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d966ecca\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./demo3.vue?vue&type=style&index=0&id=d966ecca&lang=scss&scoped=true\""],"sourceRoot":""}